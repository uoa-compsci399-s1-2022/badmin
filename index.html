<!DOCTYPE html>
<html>

<head>
    <title>Spellz</title>
    <link rel="stylesheet" href="index.css" />
    <link rel="icon" href="Images/logo.png" type="image/png" />
    <script src="index.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/diff-match-patch-js-browser-and-nodejs@1.0.2/diff_match_patch.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://kit.fontawesome.com/f8306250ba.js" crossorigin="anonymous"></script>
</head>

<body>

    <div class="top">

        <div id="title" onclick="refresh()">
            Spellz
        </div>

        <div id="title-op">

            <div id="homeBtn" onclick="refresh()">
                <svg xmlns="http://www.w3.org/2000/svg" width="29" height="29" viewBox="0 0 24 24">
                    <title>Home</title>
                    <path fill="currentColor" stroke="#currentColor" d="M20 7.093v-5.093h-3v2.093l3 3zm4 5.907l-12-12-12 12h3v10h18v-10h3zm-5 
                        8h-14v-10.26l7-6.912 7 6.99v10.182zm-5-1h-4v-6h4v6z" />
                </svg>
            </div>

            <!-- information icon which when clicked shows all details -->
            <div id="infoBtn" onclick="toggleInfoTextVisibility()">
                <svg xmlns="http://www.w3.org/2000/svg" width="37" height="37" id="infoIcon" viewBox="0 0 512 512">
                    <title>Information Circle</title>
                    <path d="M248 64C146.39 64 64 146.39 64 248s82.39 184 184 184 184-82.39 184-184S349.61 64 248 64z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" />
                    <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M220 220h32v116" />
                    <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M208 340h88" />
                    <path fill="currentColor" stroke="#currentColor" d="M248 130a26 26 0 1026 26 26 26 0 00-26-26z" />
                </svg>

            </div>
            <div id="tutorial" onclick="showFirstTimeModal()">
                <svg xmlns="http://www.w3.org/2000/svg" width="29" height="29" viewBox="0 0 24 24">
                    <title>Introduction</title>
                    <path fill="currentColor" stroke="#currentColor" d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 
                        10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm1.25 
                        17c0 .69-.559 1.25-1.25 1.25-.689 0-1.25-.56-1.25-1.25s.561-1.25 1.25-1.25c.691 0 
                        1.25.56 1.25 1.25zm1.393-9.998c-.608-.616-1.515-.955-2.551-.955-2.18 0-3.59 1.55-3.59 
                        3.95h2.011c0-1.486.829-2.013 1.538-2.013.634 0 1.307.421 1.364 1.226.062.847-.39 1.277-.962 
                        1.821-1.412 1.343-1.438 1.993-1.432 3.468h2.005c-.013-.664.03-1.203.935-2.178.677-.73 1.519-1.638 
                        1.536-3.022.011-.924-.284-1.719-.854-2.297z" />
                </svg>
            </div>

            <div id="dailyBtn" onclick="setDaily()">
                <svg xmlns="http://www.w3.org/2000/svg" width="29" height="29" viewBox="0 0 24 24">
                    <title>Daily Challenge</title>
                    <path fill="currentColor" stroke="#currentColor" d="M5.495 2h16.505v-2h-17c-1.656 0-3 1.343-3 3v18c0 1.657 1.344 3 
                        3 3h17v-20h-16.505c-1.376 0-1.376-2 0-2zm.505 4h7v7l2-2 2 2v-7h3v16h-14v-16z" />
                </svg>
            </div>

        </div>

        <div id="text-sel">
            <div id="text-sel-row1">
                <div id="easy" class="difficulty">easy</div>
                <div id="medium" class="difficulty">medium</div>
                <div id="hard" class="difficulty">hard</div>
            </div>

            <div id="text-sel-row2">
                <div id="sci-fi" class="genre">sci-fi</div>
                <div id="slice_of_life" class="genre">slice of life</div>
                <div id="non-fiction" class="genre">non-fiction</div>
                <div id="article" class="genre">article</div>
            </div>
            <div id="text-sel-row3">
                <div id="romance" class="genre">romance</div>
                <div id="comedy" class="genre">comedy</div>
                <div id="wikipedia" class="genre">wikipedia</div>
                <div id="mystery" class="genre">mystery</div>
            </div>
        </div>

    </div>

    <div class="mid">

        <div id="gameText"></div>
        <div id="currentGenreLevel"></div>
        <!-- All the information on the click of info button -->
        <div id="infoText">
            <h1>About</h1>
            <hr>
            <p>Spellz is an engaging proofreading game, aimed at helping people of all ages with their spelling!
            </p>
            <h2>Select Game</h2>
            <hr>
            <p>You can choose to play the daily challenge or pick a specific category and genre!</p>
            <p>The daily challenge is ready to go, simply just click the text! Otherwise, feel free to pick a
                genre and
                category!</p>
            <h2>Fuzzy Highlight</h2>
            <hr>
            <p>While in play, the user will notice that while typing the text is highlighted and show changes on
                screen
                real-time. </p>
            <p> The fuzzy highlight is only for words which have a certain degree of similarity between itself
                and word
                in input box. </p>
            <p>The word on blue highlight is where entered input will change. The user must use arrow keys to
                get the
                blue highlight to
                the intended word which should be changed.</p>
            <h2>Game Mechanics</h2>
            <hr>
            <h3>Score:</h3>
            <p>The score accumulates on the basis of combo and correct input. In the case the user enters
                wrong
                correction
                in the input box the score deducts by 30 points to a minimum total score of 0 points. </p>
            <p>Not taking combos into account, by default one correct input increases score by 100 points.</p>
            <h3>Combos:</h3>
            <p>Combos can range from 0 to 3, and higher combos lead to higher awarded points for corrections to a maximum of 300.</p>
            <p>By default the user is on combo 0 and gets 100 points for each correction.</p>
            <p>Combos can be incremented by entering correct input consecutively within 10 seconds, and they are decremented each time the user fails to enter correct input within 10 seconds of the previous correction.</p>
            <p>Be careful: if you make a wrong correction during a combo, the score will be deducted by the standard 30 points and the combo will break, defaulting back to 0.</p>
            <p>When entering incorrect input during a combo, 30 points are deducted and </p>
            <p>When making a correction at combo 0, the user is awarded the standard 100 points.</p>
            <p>When making a correction at combo 1, the user is awarded an additional 150 points.</p>
            <p>When making a correction at combo 2, the user is awarded an additional 200 points.</p>
            <p>Finally when making a correction at combo 3, the user is awarded an additional 300 points.</p>
            <p>The time remaining for combos is visible by the animation of the border shrinking of the input box.</p>
            <h3>Hint:</h3>
            <p>The hint button appears after 20 seconds of idle game time, clicking it reveals how many incorrect words are remaining in the text.</p>
            <h2>Game End</h2>
            <hr>
            <p>In order to end playing the game the user can press the stop button. Once the stop button is
                clicked, the
                user
                will be presented a modal giving an overview on how they did and also a functionality to share
                their
                results.</p>
            <br>
            <p>To get out of these instructions please press any of the buttons at the top.</p>
        </div>
        <div id="readyMessage">Ready? Click here to start</div>
        <div id="doneDailyMessage" style="display: none;">You have already completed the daily challenge</div>
        <div id="endModal" class="modal">
            <div class="endModalContent">
                <span class="close" onclick="closeGameEndModal()">&times;</span>
                <div id="mTitle">STATISTICS</div>
                <div id="mScore"></div>
                <div id="mAccuracy"></div>
                <div id="mTime"></div>
                <div id="mCombo"></div>
                <div id="mMissedWords"></div>
                <div class="chart-container">
                    <canvas id="endModalChart"></canvas>
                </div>
                <div id="shareContainer">
                    <button id="shareButton" onclick="shareGame()">
                        <span class="btn-text">SHARE</span><span class="btn-icon">
                            <svg t="1580465783605" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9773" width="18" height="18">
                                <path d="M767.99994 585.142857q75.995429 0 129.462857 53.394286t53.394286 129.462857-53.394286 129.462857-129.462857 53.394286-129.462857-53.394286-53.394286-129.462857q0-6.875429 1.170286-19.456l-205.677714-102.838857q-52.589714 49.152-124.562286 49.152-75.995429 0-129.462857-53.394286t-53.394286-129.462857 53.394286-129.462857 129.462857-53.394286q71.972571 0 124.562286 49.152l205.677714-102.838857q-1.170286-12.580571-1.170286-19.456 0-75.995429 53.394286-129.462857t129.462857-53.394286 129.462857 53.394286 53.394286 129.462857-53.394286 129.462857-129.462857 53.394286q-71.972571 0-124.562286-49.152l-205.677714 102.838857q1.170286 12.580571 1.170286 19.456t-1.170286 19.456l205.677714 102.838857q52.589714-49.152 124.562286-49.152z" p-id="9774" fill="#EDD9A3"></path>
                            </svg>
                        </span>
                    </button>
                </div>
            </div>
        </div>

        <div id="firstTimeModal" class="modal">
            <div class="endModalContent">
                <span class="close" onclick="closeFirstTimeModal()">&times;</span>
                <br>
                Welcome to our game Spellz!
                <p>
                    The aim of our game is for you to detect any spelling errors within the text.
                </p>
                <p>
                    You have the option of playing either daily challenge or text with particular genre and
                    difficulty.
                </p>
                <p>
                    For help, please click the (i) icon.
                </p>
                <p>
                    Happy Spellzing!
                </p>
            </div>

        </div>

        <div id="gameHidden" onclick="startGame()"></div>

        <div id="score"></div>

        <div id="hint" onclick="provideHint()">Hint</div>

        <div id="timer"></div>

        <div id="gameControls">
            <div id="inputTextBoxContainer">
                <div id="comboBar"></div>
                <div id="inputTextBox" contenteditable="false" spellcheck="false"></div>
            </div>
            <div id="stopTimer" onclick="endGame();">stop</div>
        </div>

        <div id="controls">
            <div>
                <p>enter</p> / <p>space</p> - input word
            </div>
            <div>
                <p>arrow keys</p> - select word
            </div>
            <div>
                <p>backspace</p> or <p>ctrl</p> + <p>backspace</p> - delete word(s)
            </div>
        </div>

        <div id="combo"></div>
    </div>

    <div id="bot">
        <div id="toast">Copied to Clipboard!</div>

        <div id="footSel">
            <a onclick="shareEmail()">
                <i class="fa-solid fa-envelope"></i>
                <div>contact</div>
            </a>

            <a href="https://github.com/uoa-compsci399-s1-2022/badmin" target="_blank">
                <i class="fa-brands fa-github"></i>
                <div>github</div>
            </a>
            <a href="https://discord.gg/BVnumdFTJ2" target="_blank">
                <i class="fa-brands fa-discord"></i>
                <div>discord</div>
            </a>
            <a href="https://twitter.com/Spellz399" target="_blank">
                <i class="fa-brands fa-twitter"></i>
                <div>twitter</div>
            </a>
        </div>

        <div id="pageInfo">
            <i class="fa-solid fa-code-branch"></i>
            <div id="vers"> v1.0</div>
        </div>

    </div>

</body>

</html>